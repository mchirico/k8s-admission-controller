apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  name: validating-webhook
  namespace: validation
webhooks:
  - name: warden.validation.svc
    failurePolicy: Fail
    sideEffects: None
    admissionReviewVersions: ["v1","v1beta1"]
    rules:
      - apiGroups: ["apps", ""]
        resources:
          - "deployments"
          - "pods"
        apiVersions:
          - "*"
        operations:
          - CREATE
    clientConfig:
      service:
        name: warden
        namespace: validation
        path: /validate/
      caBundle: QmFnIEF0dHJpYnV0ZXMKICAgIGxvY2FsS2V5SUQ6IDIzIDhEIDBBIDc3IDBFIDExIEIzIDJGIEFEIDA5IDZEIDI5IDU3IDg1IEFDIDJFIDZGIEU1IEMyIERBIApzdWJqZWN0PS9DTj13YXJkZW4udmFsaWRhdGlvbi5zdmMvTz1jbGllbnQKaXNzdWVyPS9DTj1UTFNHZW5TZWxmU2lnbmVkdFJvb3RDQS9MPSQkJCQKLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURRVENDQWltZ0F3SUJBZ0lCQWpBTkJna3Foa2lHOXcwQkFRc0ZBREF4TVNBd0hnWURWUVFEREJkVVRGTkgKWlc1VFpXeG1VMmxuYm1Wa2RGSnZiM1JEUVRFTk1Bc0dBMVVFQnd3RUpDUWtKREFlRncweU1EQTVNVE14TVRRNApNak5hRncwek1EQTVNVEV4TVRRNE1qTmFNREV4SGpBY0JnTlZCQU1NRlhkaGNtUmxiaTUyWVd4cFpHRjBhVzl1CkxuTjJZekVQTUEwR0ExVUVDZ3dHWTJ4cFpXNTBNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUIKQ2dLQ0FRRUF2a2RlYUV0TWlSRzVpWGp3b3NlWEluODJJQUZFUjZMOGFtZGwzMS9IR2trQ0UvbXJ5dzJCQUNNago0NGx3MldNdkJWVVQ3dmJncmtjcW1wM1pqNHl5aElMN1Vya200QXkzY0FtWTJKREUrckNiQnliZjVnTkhkTmRJCkVBZ2VYRU5SSzF2ZFhCM25pdEpiOUtwd1BDS0NjNEp4Mk5pUkdyaTdCYWp2dFJFcEtPbVo3b1BEYUY3TXRSdXEKc0lrMy9ZQlM2SWNBN1hwOFJyNVpZVjNlWU1KSHgyaFQyc3hJVnFwV0puTFI5bmc0RERPWlY4aXhzZW5Mb3krSwpoRjBDK2JhYXhlVDRTMTg2Y3YvYmg2QzZHS1ROdXZmV0dwcjY5Rm9ZZTFVL0RYTStXVnoxNHZYN3BZQnd4WldJCmdUemE3QVluK2VKVE02SDRTOUd2Y1RadW90bFdwd0lEQVFBQm8yUXdZakFKQmdOVkhSTUVBakFBTUFzR0ExVWQKRHdRRUF3SUZvREFUQmdOVkhTVUVEREFLQmdnckJnRUZCUWNEQWpBekJnTlZIUkVFTERBcWdoVjNZWEprWlc0dQpkbUZzYVdSaGRHbHZiaTV6ZG1PQ0JuZHZjbXRsY29JSmJHOWpZV3hvYjNOME1BMEdDU3FHU0liM0RRRUJDd1VBCkE0SUJBUUIvbmpKK0RjMVA5UWo1bExZRjNqQ2oxd3RlU3Q2dXgzTXZKUVZ2SnNER2RHRlFRWmxJK3AvSFNUWDEKU29BeHVJQTBlSHJ3UllFeXNxRmd2elRTMWsyVWZ2R0F3SUJkK3FvVGRrTE1vNk05dzhpRGdYSHZOMFFIcnY1bQpGemlIN2tZeklEQ00zVHBwYSt2WkVSdTZYeU9kekJ4dlhyNkRXd253UFNaNDhSRXZPN3NyaDdvK2tFUUJTYlBXCkhvM0RkbWU1dDV6VGpHQnd6SXFDbHlMUnpMMzdLOTlKQnNZUzlIbzVUNUJyQlNOTnpvaDVZWWxjR01vQ0JGemYKYkpIekxrRHBiNmJQVFBMcTladlFac0JIcHBqbCtnOTRIUUdKcGc5V0phOEdyMmpXQmwxSmNuY1hOY3dGaW9KNQo2V2xxeFE0SXRKWlkrNDd0cVJCR2oyZGxPWmlpCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KQmFnIEF0dHJpYnV0ZXMKICAgIGxvY2FsS2V5SUQ6IDIzIDhEIDBBIDc3IDBFIDExIEIzIDJGIEFEIDA5IDZEIDI5IDU3IDg1IEFDIDJFIDZGIEU1IEMyIERBIApLZXkgQXR0cmlidXRlczogPE5vIEF0dHJpYnV0ZXM+Ci0tLS0tQkVHSU4gUFJJVkFURSBLRVktLS0tLQpNSUlFdlFJQkFEQU5CZ2txaGtpRzl3MEJBUUVGQUFTQ0JLY3dnZ1NqQWdFQUFvSUJBUUMrUjE1b1MweUpFYm1KCmVQQ2l4NWNpZnpZZ0FVUkhvdnhxWjJYZlg4Y2FTUUlUK2F2TERZRUFJeVBqaVhEWll5OEZWUlB1OXVDdVJ5cWEKbmRtUGpMS0VndnRTdVNiZ0RMZHdDWmpZa01UNnNKc0hKdC9tQTBkMDEwZ1FDQjVjUTFFclc5MWNIZWVLMGx2MApxbkE4SW9KemduSFkySkVhdUxzRnFPKzFFU2tvNlpudWc4Tm9Yc3kxRzZxd2lUZjlnRkxvaHdEdGVueEd2bGxoClhkNWd3a2ZIYUZQYXpFaFdxbFltY3RIMmVEZ01NNWxYeUxHeDZjdWpMNHFFWFFMNXRwckY1UGhMWHpweS85dUgKb0xvWXBNMjY5OVlhbXZyMFdoaDdWVDhOY3o1WlhQWGk5ZnVsZ0hERmxZaUJQTnJzQmlmNTRsTXpvZmhMMGE5eApObTZpMlZhbkFnTUJBQUVDZ2dFQWIwNk9jbElCL25pbzRUc25BUUhpYmlLZVJkQ1g0WlA5Tmowd0FhQWtkMExYCi9WbGkzbEFTODBLYkh1SnFhakF6OUZtVlpJZDBYVjV5RktwYjl6WWx3NUJmZGorcTl3dFpUeWUrQ29sOVFPeUkKYzRHUkhoc3k5SzF1a1RvK2tGZ3Nwa0dCMXY0RFVWakd3L1BqM2JtT09BWEpsVUR5ZVFBeEh4bDR4NkczUXgrSAo4MERST2ttMTlNRlZoaGZCY3QrcUFHNkthd3JYcGQ4S3R0SVhPLzFkV3dBZUN4dWdCc2Q1QmhXOTFmbnFDbEZ5ClNDZHFyT3VVRkFZVXJjRGJDK21hbUJUOWIrdTdlRWJDTXZnSngrRktpZWRsV0tLVnNWeERCNExpY3pUYjlEWmQKU1pxY28vQ0dhZU81bjlLTFhKSnJpbUNjbWlWZzBGUVhuSnE5dkhFcEFRS0JnUUQxRWxTZWdMZjNRQzg0eXJ3Nwpkb3hrR01WZzR3emRNK3paVXFCZVF0NmZSWVhPalVqem53THI0TTdoUnFuUkRscExlRWRxL3ZXdUFwYnlodUpKCmJXUnlXRDJjckt5UENnRStyZFYzdjc5Nm96VlB1QkZWdkdic3h1aS9YYTNSMGV1L2V3OC81NUZsdUFERlRnbkkKVUFyVUl4Q2xtTytiTitOOC92aCtLbXFKZ1FLQmdRREd3NG5pRm9DVzVjelo2WUZENkIvM1J6TzRVc2RNRjdWZApEZTFIU2lhNEl5SUdUTEdoOWlCZitLNnZYSWdEYlR3cGtjcjNBWXdvbE04YTZhZ1p2MXcra3N3bDYwaE9TTEdDCmU0N0xnMGpzMmJZNjBodWIvWTNzQ1FEUEhCRVpzVlF1ZXRBZ3c1VDVHZEJHMXNlenRNYjNyc0NYR2pGVkNJVGYKRHVJYzh1aGtKd0tCZ0dKN1cwWFd0QmJIMURJZVJrWWUvWXU3NkpWbXFHUzcyUkg4QWpYZTZWZFh1TTJvT1FpdApmWjhNV0Jadkx3NnpsZFYrSURUKy8vdE5UeHRtMk1ocERWUmw0VngwaDJOendjeE9UdG93VStJVWMvZjFJQUkwCkU2aFN4blVnVUJsaElqdHdXRkIxM2hmaU9XMFFUeDRRREVuelRWMCtlQXNJQ29MUWMwdEFBRkFCQW9HQWRob24KNnJRT01odFhqai9GOURDUUZlRXo1Umtpbko4VnY3WVB3Q1ZhUGwxNTBSNXZDZHB5UURSR3I2SWVtMUtqeGR1QQpLeWE3UGoyMWxic3lqQ0g5VUp6dk9yVEQ0T2dtdVc1cldaZW5sRHlFb0F6S0pQVVRDQ1lOV2dMR1VtcmdwMEdJCk8zK2JIQ3h2YWpnaXJ6QUNiWmRqamlVZEhQYVQ1T28yQnBkNjZFOENnWUVBcVBqTzNDWFVGQXl3Wlp2T2h2dXAKK3Vod0ZndzlvREdTSUZSS1I0czI3dmluNm9TN2Vnd2Nnd1BaN25nc3JjWldsc2VOQXVIV3A0TTJ6OFI2aU9LMwpXMndiY3dOUldKYlFCZmpaOEowVFdBeFVmVHdNR3lmNEFnQUN2SzU2TmdIN3M1ZTFIbnMwNkhkT3lMdG9ZQVJxCkhub2d1c1pYZ2pqOG5hRHJ4Y2xrRGpVPQotLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tCi0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlEUlRDQ0FpMmdBd0lCQWdJSkFLdUhDa2lhOGw0Qk1BMEdDU3FHU0liM0RRRUJDd1VBTURFeElEQWVCZ05WCkJBTU1GMVJNVTBkbGJsTmxiR1pUYVdkdVpXUjBVbTl2ZEVOQk1RMHdDd1lEVlFRSERBUWtKQ1FrTUI0WERUSXcKTURreE16RXhORGd5TTFvWERUTXdNRGt4TVRFeE5EZ3lNMW93TVRFZ01CNEdBMVVFQXd3WFZFeFRSMlZ1VTJWcwpabE5wWjI1bFpIUlNiMjkwUTBFeERUQUxCZ05WQkFjTUJDUWtKQ1F3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBCkE0SUJEd0F3Z2dFS0FvSUJBUUMrdVcrSkdZSE9XajFES0Zrcmh5SFBlWUl5Y3FuNjRJRXYwK1BsK09NR2EzU0IKNDJNQWdRN2o4ZnpVcHNKRlJ4aHZsdFc3K3h4ZUlzN1NnbkZaMldTTzZSUERDUjN4YXNEeFpFajBBUGQ0aytmUgo3TWpweERSQzAybDNERFFJSngvUTNLNWtVQm96cnFYaG9CMjFtQmR5MEZHV2V0UkVGR3VlUkord044NHB5NnAyCm5qV1hXdThHYU1CWWk5ZjJkMVh1YVdBWnVUOHpBaXo0SFRqM29zSDlDV05DU1ZkWll3UEJvUDQ2TFFKWkFBTVUKOUNneTRUdGd5R1pQalFUd1pFTlJVOEVESHd2amkvOHdJVk9mSmxYaFAwNHl4V2loOHZxMERkendnaGpXd0xXSgpabGdPMGJ1M2pqY21CUU5aMWJETmptUFRIMUs2QzhFUHRjNjlJUDRsQWdNQkFBR2pZREJlTUFzR0ExVWREd1FFCkF3SUJCakFkQmdOVkhRNEVGZ1FVKzBXYVpLSWk0WlZ3SCtRa2l4ZjRoWi9EVTZZd0h3WURWUjBqQkJnd0ZvQVUKKzBXYVpLSWk0WlZ3SCtRa2l4ZjRoWi9EVTZZd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBTkJna3Foa2lHOXcwQgpBUXNGQUFPQ0FRRUFTbGN3ZVU5aE5tdU8rQWx5T3hnM3dCMHErYmllZ203bDR1T01qbnBoRWZBajF4R2k0VHdrCmt4d1ZkR0V1d1BZVlBDeDg1NUs5T3dPcGRrOXg1SGp6OTIzZ2tsOGl6NWtzRXJ2OHQwcXhEWXlrS3B5N2QrenIKcks5YWQrNHhtUTQrUlora3FRMlNoSk9XcWF0cmhkbldCMjZlZXBiU2hhQUpsclBUMGgzbTd0eWp0N0ZpT0RBTgpCRWUxTmlSQ3piRlVrTG1zRGovTHArTWZXdVI5Q3NQK1JhV2RaODJEeUc5MCtORllLWXJQNzBsTm14V0U5bGxPClEyRmVxVXVOR2NUT3MyK2dpTCt4STNCVGg4Z3BSREtYTU8xSUtZR2VrR2d1Q1VUaVlMbzRLVEJTL2cvRmNURVYKUzVvdk1VMSt1WGorZ3Nsb3VaNEo1UEJjN3pLeUJ1OFNnZz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
